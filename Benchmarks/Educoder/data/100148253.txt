package step1;

public class Task {
	public static void main(String[] args) throws Exception {
		/********* Begin *********/
		//在这里创建线程， 开启线程
		Object a = new Object();
        Object b = new Object();
        Object c = new Object();
	MyThread AA=new MyThread("AA", c, a);
	MyThread BB=new MyThread("BB",a, b);
	MyThread CC=new MyThread("CC", b, c);
	Thread AA1=new Thread(AA);
	Thread BB1=new Thread(BB);
	Thread CC1=new Thread(CC);
	AA1.start();
	Thread.sleep(1);
	BB1.start();
	Thread.sleep(1);
	CC1.start();
	Thread.sleep(1);


		
		/********* End *********/
	}
}

class MyThread extends Thread {
	/********* Begin *********/
	
	
	String threadName;
	private Object prev;
	private Object self;
	public MyThread(String name,Object a,Object b){		
		this.threadName=name;
		this.prev=a;
		this.self=b;
	}
	

	public void run() {
		
		int count = 5;
		
		while(count > 0){
			synchronized (prev) {
				synchronized (self) {
			
			System.out.println("Java Thread" + this.threadName);
			count--;
			self.notifyAll();
		}
			try {
					if(count == 0){
						prev.notifyAll();
					}else{
                    prev.wait();
					}
				}catch (InterruptedException e) {
                    e.printStackTrace();
                }

		}
		}

	/********* End *********/
}
}