package step3;

public class Task {
	
	public int concaveValley(Integer[] arr){
		
		if(arr.length<3){
			return 0;
		}
		
		int count[] = new int[2];
		count[0] = 0;
		count[1] = 0;
		
		for(int i=1;i<arr.length;i++){
			int j=i;
			if(arr[i]<arr[i-1]){
				for(;j<arr.length;j++){
					count[1] += 1;
					int a=j;
					if(arr[j]>arr[j-1]){
						for(;a<arr.length;a++){
							if(arr[a]<=arr[a-1]||a == arr.length-1){
								if(a == arr.length-1&&arr[a]>arr[a-1]){
									count[1] += 1;
								}
								if(count[0]<count[1]){
									count[0] = count[1];
									count[1] = 0;
								}
								break;
							}
							count[1] += 1;
						}
						break;
					}else if(arr[j]==arr[j-1]){
						break;
					}
				}
				count[1] = 0;
			}
			i = j;
		}
		if(count[0]<count[1]){
			count[0] = count[1];
		}
		return count[0];
	}
}
