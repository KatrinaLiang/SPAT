package step4;

public class Task {
	
	public String getDate(String mdate,int day){
		/********* Begin *********/
		int year = Integer.valueOf(mdate.split("-")[0]);
    	int month =Integer.valueOf(mdate.split("-")[1]);
    	int date = Integer.valueOf(mdate.split("-")[2]);
    	//int day = 30;
    	int nextyear=year+1;
    	int months[]= {31,28,31,30,31,30,31,31,30,31,30,31};
		if (month>2) {
			while(day>=365){
        		if((nextyear%4==0&&nextyear%100!=0)||nextyear %400==0){
            		day=day-366;
            		year++;
            		months[1] = 29;
            	}
        		else {
        			day=day-365;
            		year++;
            		months[1]=28;
        		}
        		nextyear=year+1;
        	}
		}
		else if (month==2&&date<=28) {
			while(day>=365) {
        		if((year%4==0&&year%100!=0)||year %400==0){
            		day=day-366;
            		year++;
            		months[1] = 29;
            	}
        		else {
        			day=day-365;
            		year++;
            		months[1]=28;
        		}
        	}
		}
		else if (month==2&&date==29) {
            months[1]=29;
			while (day>=365) {
				day=day-365;
				year++;
				months[1]=28;
                month=3;
				date=1;
                
			}
			
		}
		else {
			if((year%4==0&&year%100!=0)||year %400==0){
				months[1] = 29;
    		}
    		while(day>=365) {
        		if((year%4==0&&year%100!=0)||year %400==0){
            		day=day-366;
            		year++;
            		months[1] = 29;
            	}
        		else {
        			day=day-365;
            		year++;
            		months[1]=28;
        		}
        	}
		}
        if((year%4==0&&year%100!=0)||year %400==0){
    		
    		months[1] = 29;
    	}
		else {
			
    		months[1]=28;
		}
		for(int i=month-1;i<12;i++){
    		if(day>months[i]){
    			day=day-months[i];
    			month+=1;
    			while (month>12) {
    	    		year++;
    	    		if((year%4==0&&year%100!=0)||year %400==0){
    	        		months[1] = 29;
    	        	}
    	    		else {
    	    			months[1]=28;
    	    		}
    	    		month=1;
    	    		i=month-1;
    	    		}
    		}else{
    		date = date+day%months[i-1&i];
    		if (date>months[i]) {
    			date-=months[i];
    			month+=1;
    			while (month>12) {
    	    		year++;
    	    		if((year%4==0&&year%100!=0)||year %400==0){
    	        		months[1] = 29;
    	        	}
    	    		else {
    	    			months[1]=28;
    	    		}
    	    		month=1;
    	    		i=month-1;
    	    		}
    			break;
    		}
    		else {
    			break;
    		}
    		}
    	}
	
	
	return(year+"-"+String.format("%02d",month)+"-"+String.format("%02d",date)
);










        /********* End *********/
	}
	
	
}
