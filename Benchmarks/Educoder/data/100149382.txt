package step1;

import java.sql.*;

public class UpdatePass {
	// 修改数据
	public static void updateDB() {
/********* Begin *********/
// 第一步：加载驱动				
// 第二步：建立连接, "root"和"123123"是针对MySQL设置了用户名(root)和密码(123123)的情况
// 127.0.0.1:3306是mysql服务器地址及端口   数据库编码格式设置为utf-8				
// 第三步：建立statement对象				
// 第四步：修改数据		
// 第五步：关闭statement对象和连接对象	
        //Connection conn = getConnection();
        Connection conn=null;
		/**********  Begin  **********/
		String url="jdbc:mysql://localhost:3306/tsgc";
		try {
			
           Class.forName("com.mysql.jdbc.Driver" );
 conn = DriverManager.getConnection(url, "root", "123123");
            
		}catch (ClassNotFoundException e) {
			e.printStackTrace();
		}catch (SQLException e) {
			e.printStackTrace();
		}
		/**********   End   **********/
        
        PreparedStatement ps = null;
        /**********  Begin  **********/
        String sql = "update employee set name=?,password=?,sex=?,salary=? where no=?";
        try{
           ps = conn.prepareStatement(sql); 
           ps.setString(1,"张三"); 
           ps.setString(2,"hello");
           ps.setString(3,"女"); 
           ps.setInt(4,3500); 
           ps.setInt(5,1001); 
           ps.executeUpdate(); 
            
            
            
        }catch(SQLException e){
            e.printStackTrace();
            //throw new SQLException("更新数据失败");
        }finally{
            //close(null, ps, conn);
            try {
    		//if(rs!=null)rs.close();
    		if(ps!=null)ps.close();
    		if(conn!=null)conn.close();
		} catch (SQLException e) {
			e.printStackTrace();
		}
    
        }    
        /**********  End  **********/
	}

}
