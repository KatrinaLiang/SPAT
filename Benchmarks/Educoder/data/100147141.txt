package step2;

public class BestTeam {

	/********* Begin *********/

    public Long getBestTeam(int numbers, int[] abilities, int selectedNum, int distance){
		long[][] maxProduct = new long[numbers][selectedNum];
		// zhiqu一个人
		for (int i = 0; i < numbers; i++) maxProduct[i][0] = abilities[i+1];

		long max = Long.MIN_VALUE;
		for (int i = 1; i < numbers; i++) {
			for (int j = 1; j < selectedNum; j++) {
				for (int p = i - 1; p >= Math.max(i-distance, 0); p--) {
					maxProduct[i][j] = Math.max(maxProduct[i][j], maxProduct[p][j - 1] * abilities[i+1]);
				}
			}
			max = Math.max(max, maxProduct[i][selectedNum - 1]);
		}
		return max;
    }
	/********* End *********/
}
