package step3;

public class Task {
	
	public int concaveValley(Integer[] arr){
		/********* Begin *********/
        int n=arr.length;
		while(n>2){
            for(int i=0;i+n<arr.length+1;i++){
                if(is(arr,i,i+n-1)){
                    return n;
                }
            }
            n--;
        }
		return 0;
	}
    public boolean is(Integer[] arr,int i,int j){
        boolean flag1=false,flag2=false;
        int m;
        if(arr[i]<=arr[i+1]) return false;
        for(m=i;m<=j-1&&arr[m]>arr[m+1];m++);
        if(m==j-1){
            if(arr[m]>arr[m+1]) return false;
        }
        while(m<=j-1){
            if(arr[m]>=arr[m+1]){
                flag2=true;
                break;
            }
            m++;
        }
        if(flag2) return false;
        return true;
    }

		/********* End *********/	
	}

