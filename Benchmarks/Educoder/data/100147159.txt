package step2;

public class BestTeam {

	/********* Begin *********/

    public Long getBestTeam(int numbers, int[] abilities, int selectedNum, int distance){
    	long [][] f = new long[numbers+1][selectedNum+1];
    	for(int i = 0; i <=numbers; i++) {
    		f[i][0] = 1;
    	}
    	for(int i = 1; i <= numbers; i++) {
    		for(int j = 1; j <= selectedNum; j++) {
    			for(int k = Math.max(0, i-distance); k < i; k++) {
    				f[i][j] = Math.max(f[k][j-1]*(long)abilities[i], f[i][j]);
    			}
    		}    		
    	}
    	long ans = 0;
    	for(int i = 0; i <= numbers; i++) {
    		ans = Math.max(ans, f[i][selectedNum]);
    	}
    	return ans;
    }

	/********* End *********/
}
