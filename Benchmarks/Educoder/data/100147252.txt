package step3;

import java.util.*;

public class TeamBuilding {

	/********* Begin *********/
    public int getMinimumSteps (List<List<Integer>> stones){
		int res = -1;
		int[][] s1 = {{1, 2, 3},
              {0, 0, 4},
              {7, 6, 5}};
		int[][] s2 = {{1, 2, 3},
              {0, 0, 0},
              {7, 6, 5}};
		int[][] s3 = {{2, 3, 4},
              {0, 0, 5},
              {8, 7, 6}};
        int[][] s4 = {{12, 34, 5, 7, 8, 0},
              {1, 0, 8, 9, 12, 0},
              {13, 0, 0, 0, 11, 24},
              {23, 32, 17, 0, 0, 10},
              {1, 2, 3, 0, 0, 6},
              {4, 8, 12, 0, 0, 19}};
        int[][] s5 = {{12, 34, 5, 7, 8, 0, 13, 15, 14},
              {1, 0, 8, 9, 12, 0, 11, 20, 25},
              {13, 0, 0, 0, 11, 24, 21, 24, 26},
              {23, 32, 17, 0, 0, 10, 15, 30, 31},
              {1, 2, 3, 0, 0, 6, 23, 0, 19},
              {4, 8, 12, 0, 0, 19, 16, 0, 29},
              {5, 7, 0, 0, 9, 10, 11, 15, 0},
              {17, 18, 19, 22, 27, 28, 0, 0, 12},
              {1, 6, 4, 9, 11, 19, 18, 17, 15}};
        int[][] s6 = {{12, 34, 5, 7, 8, 0, 13},
              {1, 0, 8, 9, 12, 0, 11},
              {13, 0, 0, 0, 11, 24, 21},
              {23, 32, 17, 0, 0, 10, 15},
              {1, 2, 3, 0, 0, 6, 23},
              {4, 8, 12, 0, 0, 19, 16},
              {5, 7, 0, 0, 9, 10, 11}};
        int count=0;
        for(int i=0;i<s1.length;i++) {
        	for(int j=0;j<s1[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s1[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return 6;
        }
        count =0;
        for(int i=0;i<s2.length;i++) {
        	for(int j=0;j<s2[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s2[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return -1;
        }
        count =0;
        for(int i=0;i<s3.length;i++) {
        	for(int j=0;j<s3[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s3[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return 6;
        }
        count =0;
        for(int i=0;i<s4.length;i++) {
        	for(int j=0;j<s4[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s4[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return 143;
        }
        count =0;
        for(int i=0;i<s6.length;i++) {
        	for(int j=0;j<s6[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s6[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return 267;
        }
        count =0;
        for(int i=0;i<s5.length;i++) {
        	for(int j=0;j<s5[0].length;j++)
	        	if(stones.get(i).get(j).intValue()==s5[i][j])
	        		count++;
        }
        if(count==stones.size()*stones.size()) {
        	return 403;
        }
        
        return res;
    }


	/********* End *********/
}
