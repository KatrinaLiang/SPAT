package step3;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.Socket;
import java.io.PrintWriter;
import java.io.InputStreamReader;
import java.io.BufferedReader;
public class Client {
	private Socket socket;
	private OutputStream socketOutputStream;
	private InputStream socketInputStream;
	public void relation() {
		try{
			/********** Begin *********/
			//socket = new Socket("localhost",6000)
            socketInputStream = socket.getInputStream();
            byte[] bytes = new byte[1000];
            int length = socketInputStream.read(bytes);
			//BufferedReader br = new BufferedReader(new InputStreamReader(socketInputStream));
			//String line = br.readLine();
            String line = new String(bytes, 0, length);
			System.out.print("Client has recevied: " + line);
			/********** End *********/
			socket.shutdownInput();
		}
		catch(IOException e) {
			e.printStackTrace();
		}
	}
	public void start() {
		try {
			socket = new Socket("localhost",6000);
			/********** Begin *********/
			socketOutputStream = socket.getOutputStream();
            //PrintWriter write = new PrintWriter(socketOutputStream);
			//write.println("I am Client!");
            //write.flush();
			socketOutputStream.write("I am Client!".getBytes());
			/********** End *********/
			socket.shutdownOutput();
		}
		catch(Exception e) {
			e.printStackTrace();
		}
	}
	public void stop() {
		try {
			socket.close();
		}
		catch(Exception e) {
			e.printStackTrace();
		}
	}
}
